openapi: 3.0.3
info:
  version: '2.0'
  title: Business Details (MTD)
  description: |
    The following groups of endpoints are stateful in the Sandbox:
      * [Accounting Type](#tag/Accounting-Type)
      * [Periods of Account](#tag/Periods-of-Account)

      * [Late Accounting Date Rule](#tag/Late-Accounting-Date-Rule)


    The following endpoints are stateful in the Sandbox:
      * Retrieve Business Details
      * List All Businesses
      * Create and Amend Quarterly Period Type for a Business

    # Send fraud prevention data
    HMRC monitors transactions to help protect your customers' confidential data from criminals and fraudsters. 

    <div class="govuk-warning-text warning-icon-fix">
      <span class="govuk-warning-text__icon warning-icon-ui-fix" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
        You are required by law to submit header data for this API. This includes all associated APIs and endpoints.
      </strong>
    </div>

    [Check the data you need to send](/guides/fraud-prevention/). You can also use the [Test API](/api-documentation/docs/api/service/txm-fph-validator-api/1.0) during initial development and as part of your quality assurance checks.

    # Changelog
    You can find the changelog in the [income-tax-mtd-changelog](https://github.com/hmrc/income-tax-mtd-changelog/#readme) GitHub wiki.


    # Support

    * Direct reports of bugs or errors in Production or Sandbox code, or queries about HMRC business functionality (such as how a specific field is used by HMRC or why it is needed) to the [Software Development Support Team (SDST)](https://developer.service.hmrc.gov.uk/developer/support).
    * Send queries or feedback related to the design of the APIs (including recommended changes) using the  [income-tax-mtd-changelog](https://github.com/hmrc/income-tax-mtd-changelog/issues) GitHub page.
    * <a href="/contact/report-technical-problem?newTab=true&service=api-documentation-frontend" target="_blank">Is this page not working properly? (opens in new tab)</a>
servers:
  - url: https://test-api.service.hmrc.gov.uk
    description: Sandbox
  - url: https://api.service.hmrc.gov.uk
    description: Production
paths:
  /individuals/business/details/{nino}/list:
    get:
      summary: List All Businesses
      description: |
        This endpoint allows a developer to retrieve all details of a user's business income sources. The unique account 
        reference (National Insurance number) must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.    

        | Header Value (Gov-Test-Scenario) | Scenario                                                                                         |
        |----------------------------------|--------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                    | Simulate a successful response with a self-employment business.                                  |
        | PROPERTY                         | Simulate a successful response with a uk-property business.                                      |
        | FOREIGN_PROPERTY                 | Simulate a successful response with a foreign-property business.                                 |                                                                |
        | BUSINESS_AND_PROPERTY            | Simulate a successful response with a self-employment, uk-property and foreign-property business.|
        | UNSPECIFIED                      | Simulate a successful response with a property-unspecified business.                             |
        | NOT_FOUND                        | Simulates the scenario where no data is found.                                                   |
        | STATEFUL                         | Performs a stateful list.                                                                        |
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: &ref_6
            type: string
            example: TC663795B
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: &ref_7
            type: string
            enum:
              - application/vnd.hmrc.2.0+json
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: &ref_8
            type: string
            example: Bearer bb7fed3fe10dd235a2ccda3d50fb
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: &ref_9
            type: string
            example: '-'
          required: false
      security:
        - User-Restricted:
            - read:self-assessment
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: &ref_0
                type: string
                example: c75f40a6-a3df-4429-a697-471eeec46435
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: &ref_1
                type: string
                example: Sun, 01 Jan 2023 23:59:59 GMT
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: &ref_2
                type: string
                example: Sun, 02 Jul 2023 23:59:59 GMT
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: &ref_3
                type: string
                example: https://developer.service.hmrc.gov.uk/api-documentation/docs/api/service/business-details-api
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: Retrieve a list of all business details for Subcontractor
                description: Retrieve business details response
                type: object
                properties:
                  listOfBusinesses:
                    type: array
                    description: An array containing the details of all the business income sources held against the specified National insurance number.
                    items:
                      type: object
                      properties:
                        typeOfBusiness:
                          description: The type of business income source.
                          enum:
                            - self-employment
                            - uk-property
                            - foreign-property
                            - property-unspecified
                          type: string
                          example: self-employment
                        businessId:
                          description: A unique identifier for the business income source. Previously known as selfEmploymentId.
                          type: string
                          example: XAIS12345678910
                          pattern: ^X[a-zA-Z0-9]{1}IS[0-9]{11}$
                        tradingName:
                          description: The trading name of the business.
                          type: string
                          example: RCDTS
                      required:
                        - businessId
                        - typeOfBusiness
                      additionalProperties: false
                required:
                  - listOfBusinesses
                additionalProperties: false
              examples:
                example-response:
                  description: Example Response
                  value:
                    listOfBusinesses:
                      - typeOfBusiness: self-employment
                        businessId: XAIS12345678910
                        tradingName: RCDTS
                      - typeOfBusiness: foreign-property
                        businessId: XAIS23456789101
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: &ref_4
                  code:
                    description: The error code
                    type: string
                  message:
                    description: The error message
                    type: string
                required: &ref_5
                  - code
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: &ref_10
                    code: FORMAT_NINO
                    message: The provided NINO is invalid
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: &ref_11
                    code: RULE_INCORRECT_GOV_TEST_SCENARIO
                    message: The supplied Gov-Test-Scenario is not valid
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: &ref_12
                    code: CLIENT_OR_AGENT_NOT_AUTHORISED
                    message: The client or agent is not authorised
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: &ref_13
                    code: MATCHING_RESOURCE_NOT_FOUND
                    message: Matching resource not found
  /individuals/business/details/{nino}/{businessId}:
    get:
      summary: Retrieve Business Details
      description: |
        This endpoint allows a developer to retrieve additional information for one of a user's business income source. The 
        unique account reference (National Insurance number) must be provided as well as the unique business identifier.

        ### Test data
        Scenario simulations using <code>Gov-Test-Scenario</code> headers is only available in the sandbox environment.
        | Header Value (Gov-Test-Scenario) | Scenario |
        | --- | --- |
        | N/A - DEFAULT | Simulate a successful response with a self-employment business. <br/> Use the following businessId for this scenario: <br/> - XBIS12345678901 |
        | PROPERTY | Simulate a successful response with a uk-property business. <br/> Use the following businessId for this scenario: <br/> - XPIS12345678901 |
        | FOREIGN_PROPERTY | Simulate a successful response with a foreign-property business. <br/> Use the following businessId for this scenario: <br/> - XFIS12345678901 |
        | UNSPECIFIED | Simulate a successful response with a property-unspecified business. <br/> Use the following businessId for this scenario: <br/> - XAIS12345678901 |
        | NOT_FOUND | Simulate a scenario where no data is found. |
        | DYNAMIC | Returns a dynamic response where the type of response will change corresponding to the businessId provided in the request: <br/> - For a response with a self-employment business, use businessId: <br/>   -- XBIS12345678901 (Accruals) <br/>   -- XBIS12345678902 (Cash) <br/> - For a response with a uk-property business, use businessId: <br/>   -- XPIS12345678901 (Accruals) <br/>   -- XPIS12345678902 (Cash) <br/> - For a response with a foreign-property business, use businessId: <br/>   -- XFIS12345678901 (Accruals) <br/>   -- XFIS12345678902 (Cash) <br/> - For a response with a property-unspecified business, use businessId: <br/>   -- XAIS12345678901 (Accruals) <br/>   -- XAIS12345678902 (Cash) |
        | CASH | Simulate a scenario where the success response returns data associated with an accountingType of 'CASH'. <br/> Use the following businessId for this scenario: <br/> - XBIS12345678901 |
        | ACCRUALS | Simulate a scenario where the success response returns data associated with an accountingType of 'ACCRUALS'. <br/> Use the following businessId for this scenario: <br/> - XBIS12345678901 |
        | STATEFUL | Performs a stateful retrieve. |
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the business income source. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: &ref_14
            type: string
            pattern: ^X[A-Z0-9]{1}IS[0-9]{11}$
            example: XAIS12345678910
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_8
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      security:
        - User-Restricted:
            - read:self-assessment
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: Retrieve additional information for a user's business details
                description: Retrieve business details response
                type: object
                properties:
                  businessId:
                    type: string
                    description: A unique identifier for the business income source. Previously known as selfEmploymentId.
                    example: XAIS12345678910
                    pattern: ^X[a-zA-Z0-9]{1}IS[0-9]{11}$
                  typeOfBusiness:
                    type: string
                    description: The type of business income source.
                    enum:
                      - self-employment
                      - uk-property
                      - foreign-property
                      - property-unspecified
                  tradingName:
                    type: string
                    description: The trading name of the business.
                    example: ABC Ltd.
                  yearOfMigration:
                    type: string
                    description: Year of migration.
                    pattern: ^(\d{4})$
                    format: yyyy
                    example: '2022'
                  firstAccountingPeriodStartDate:
                    type: string
                    description: |-
                      The first accounting period start date.

                      Note: <b>Accounting period start and end dates should not be displayed to users of your software.</b>
                    format: yyyy-MM-DD
                    example: '2019-09-30'
                  firstAccountingPeriodEndDate:
                    type: string
                    description: |-
                      The first accounting period end date.

                      Note: <b>Accounting period start and end dates should not be displayed to users of your software.</b>
                    format: yyyy-MM-DD
                    example: '2020-02-29'
                  latencyDetails:
                    type: object
                    description: Income source latency details.
                    properties:
                      latencyEndDate:
                        type: string
                        description: End date of latency period for the income source.
                        example: '2020-02-27'
                        format: YYYY-MM-DD
                      taxYear1:
                        type: string
                        description: First tax year for the income source.
                        example: 2018-19
                        format: YYYY-YY
                        minimum: 4
                        maximum: 4
                      latencyIndicator1:
                        type: string
                        description: Self assessment submission frequency.
                        enum:
                          - A
                          - Q
                        minimum: 1
                        maximum: 1
                        example: A
                      taxYear2:
                        type: string
                        description: Second tax year for the income source.
                        example: 2019-20
                        format: YYYY-YY
                        minimum: 4
                        maximum: 4
                      latencyIndicator2:
                        type: string
                        description: Self assessment submission frequency.
                        enum:
                          - A
                          - Q
                        minimum: 1
                        maximum: 1
                        example: A
                    required:
                      - latencyEndDate
                      - taxYear1
                      - latencyIndicator1
                      - taxYear2
                      - latencyIndicator2
                  quarterlyTypeChoice:
                    type: object
                    description: Quarterly reporting period type.
                    properties:
                      quarterlyPeriodType:
                        type: string
                        enum:
                          - standard
                          - calendar
                        description: The quarterly period type that is being chosen for the business ID.
                        example: standard
                      taxYearOfChoice:
                        type: string
                        description: The tax year for which the quarterly period type was chosen.
                        pattern: ^2[0-9]{3}-[0-9]{2}$
                        example: 2023-24
                    taxYearOfChoice:
                      - quarterlyPeriodType
                      - taxYear1
                  accountingPeriods:
                    type: array
                    description: |-
                      The start and end dates of the latest accounting period for the business. This array contains dates for the latest accounting period only.

                      Note: <b>Accounting period start and end dates should not be displayed to users of your software.</b>
                    items:
                      type: object
                      properties:
                        start:
                          description: Date your books or accounts start - the beginning of your accounting period.
                          type: string
                          example: '2018-04-06'
                        end:
                          description: Date your books or accounts are made up to - the end of your accounting period.
                          type: string
                          example: '2019-04-05'
                      required:
                        - start
                        - end
                      additionalProperties: false
                  accountingType:
                    description: |-
                      CASH if you used the cash basis, money actually received and paid out, to calculate your income and expenses. Otherwise ACCRUALS.

                      This field is deprecated and will be removed in a future release. Use the `Retrieve Accounting Type` endpoint instead.
                    type: string
                    deprecated: true
                    enum:
                      - CASH
                      - ACCRUALS
                  commencementDate:
                    description: Business start date, must be in the past.
                    type: string
                    example: '2016-09-24'
                  cessationDate:
                    description: Business cessation date.
                    type: string
                    example: '2020-03-24'
                  businessAddressLineOne:
                    description: First line of the business address.
                    type: string
                    example: 1 ABC Rd.
                  businessAddressLineTwo:
                    description: Second line of the business address.
                    type: string
                    example: London
                  businessAddressLineThree:
                    description: Third line of the business address.
                    type: string
                    example: Greater London
                  businessAddressLineFour:
                    description: Fourth line of the business address.
                    type: string
                    example: United Kingdom
                  businessAddressPostcode:
                    description: Business code.
                    type: string
                    example: M1 1AG
                  businessAddressCountryCode:
                    description: ISO country code for the business if it is in a non-GB country. The two-letter code for a country must adhere to ISO 3166.
                    type: string
                    example: FR
                required:
                  - businessId
                  - typeOfBusiness
                additionalProperties: false
              examples:
                example-response:
                  description: Example Response
                  value:
                    businessId: XAIS12345678910
                    typeOfBusiness: self-employment
                    tradingName: ABC Ltd.
                    yearOfMigration: '2022'
                    firstAccountingPeriodStartDate: '2019-09-30'
                    firstAccountingPeriodEndDate: '2020-02-29'
                    latencyDetails:
                      latencyEndDate: '2020-02-27'
                      taxYear1: 2018-19
                      latencyIndicator1: A
                      taxYear2: 2019-20
                      latencyIndicator2: A
                    accountingPeriods:
                      - start: '2023-04-06'
                        end: '2024-04-05'
                    quarterlyTypeChoice:
                      quarterlyPeriodType: standard
                      taxYearOfChoice: 2023-24
                    accountingType: ACCRUALS
                    commencementDate: '2023-04-06'
                    cessationDate: '2024-04-05'
                    businessAddressLineOne: 1 Acme Rd.
                    businessAddressLineTwo: London
                    businessAddressLineThree: Greater London
                    businessAddressLineFour: United Kingdom
                    businessAddressPostcode: M1 1AG
                    businessAddressCountryCode: GB
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: &ref_15
                    code: FORMAT_BUSINESS_ID
                    message: The provided Business ID is invalid
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
                NO_BUSINESS_FOUND:
                  description: |
                    No business found for given NINO with given Business ID.
                  value:
                    code: NO_BUSINESS_FOUND
                    message: No business found for given NINO and Business ID
  /individuals/business/details/{nino}/{businessId}/{taxYear}:
    put:
      summary: Create and Amend Quarterly Period Type for a Business
      description: "This endpoint enables you to create and amend the type of quarterly reporting period used for a business for a specific tax year.\nYou can choose standard quarterly periods (where the first period is 6 April to 5 July) or calendar quarterly periods (first period 1 April to 30 June) for each tax year.\nNote that the quarterly period type cannot be changed after a submission is made for that year.\n\n**Warning:** If an invalid tax year or invalid business ID is submitted, the service will return a RULE_REQUEST_CANNOT_BE_FULFILLED error response. Only the current tax year is allowed and business IDs must relate to a self-employment or property income source.\n\n\n### Test data\nScenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.    \n\n| Header Value (Gov-Test-Scenario) | Scenario                                                                                                                                                         |\n|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| N/A - DEFAULT                    | Simulate a successful response.                                                                                                                                  |\n| BUSINESS_ID_NOT_FOUND\t           | Simulates the scenario in which the business ID is not found.                                                                                                    |\n| BUSINESS_ID_STATE_CONFLICT       | Simulates the scenario in which the request conflicts with the current state of the business ID.                                                                 |\n| QUARTERLY_PERIOD_UPDATING        | Simulates the scenario in which the quarterly period type cannot be changed when a business commencement date falls between 1st and 5th of April, and the current date is also within that date range but later than the business commencement date. |\n| STATEFUL                         | Performs a stateful create and update.                                                                                                                           |\n"
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the business income source. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_14
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year for which a quarterly period type is being set.
          schema:
            type: string
            pattern: ^2[0-9]{3}-[0-9]{2}$
            example: 2023-24
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_8
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      security:
        - User-Restricted:
            - write:self-assessment
      requestBody:
        content:
          application/json:
            schema:
              $schema: http://json-schema.org/draft-04/schema#
              title: Create & Amend Quarterly Period Type for a Business ID
              description: Create & Amend Quarterly Period Type request
              type: object
              properties:
                quarterlyPeriodType:
                  type: string
                  description: The quarterly period type that is being set for the business id.
                  example: standard
                  enum:
                    - standard
                    - calendar
              required:
                - quarterlyPeriodType
              additionalProperties: false
            examples:
              example-request:
                description: Example request given any tax year
                value:
                  quarterlyPeriodType: standard
      responses:
        '204':
          description: Success(No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content: {}
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: &ref_16
                    code: FORMAT_TAX_YEAR
                    message: The provided tax year is invalid
                RULE_BUSINESS_ID_STATE_CONFLICT:
                  description: |
                    The request conflicts with the current state of the business ID.
                  value:
                    code: RULE_BUSINESS_ID_STATE_CONFLICT
                    message: The request conflicts with the current state of the business ID
                RULE_QUARTERLY_PERIOD_UPDATING:
                  description: |
                    The quarterly period type cannot be changed when a business commencement date falls between 1st and 5th of April, and the current date is also within that date range but later than the business commencement date.
                  value:
                    code: RULE_QUARTERLY_PERIOD_UPDATING
                    message: The quarterly period type cannot be changed when a business commencement date falls between 1st and 5th of April, and the current date is also within that date range but later than the business commencement date
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: |
                    An empty or non-matching body was submitted.
                  value: &ref_17
                    code: RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED
                    message: An empty or non-matching body was submitted
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                RULE_BUSINESS_ID_NOT_FOUND:
                  description: |
                    The business ID provided is not found.
                  value:
                    code: RULE_BUSINESS_ID_NOT_FOUND
                    message: The business ID provided is not found
        '422':
          description: Unprocessable Entity
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                RULE_REQUEST_CANNOT_BE_FULFILLED:
                  description: |
                    Reporting type can only be changed for self-employment and property income sources
                  value:
                    code: RULE_REQUEST_CANNOT_BE_FULFILLED
                    message: Request cannot proceed for this income source type
  /individuals/business/details/{nino}/{businessId}/{taxYear}/accounting-type:
    get:
      summary: Retrieve Accounting Type
      security:
        - User-Restricted:
            - read:self-assessment
      description: |
        This endpoint allows a customer to retrieve the Accounting Type that they have on record. A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulations using <code>Gov-Test-Scenario</code> headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario) | Scenario                                       |
        | -------------------------------- | ---------------------------------------------- |
        | N/A - DEFAULT                    | Simulates success response.                    |
        | NOT_FOUND                        | Simulates the scenario where no data is found. |
        | STATEFUL                         | Performs a stateful retrieve.                  |
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the business income source. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_14
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            No gaps are allowed, for example, 2025-27 is not valid.
          schema: &ref_25
            type: string
            pattern: ^2[0-9]{3}-[0-9]{2}$
            example: 2024-25
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_8
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      tags:
        - Accounting Type
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                description: Retrieve accounting type response
                type: object
                properties:
                  accountingType:
                    type: string
                    description: |-
                      The accounting type used.

                      CASH for cash basis (money actually received and paid out to calculate income and expenses).

                      ACCRUAL records revenues and expenses when they are incurred, regardless of when cash is exchanged.
                    enum:
                      - CASH
                      - ACCRUAL
                required:
                  - accountingType
              example:
                accountingType: ACCRUAL
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: &ref_18
                    code: RULE_TAX_YEAR_RANGE_INVALID
                    message: A tax year range of one year is required
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
    put:
      summary: Update Accounting Type
      security:
        - User-Restricted:
            - write:self-assessment
      description: |
        This endpoint allows a customer to update the Accounting Type that they have on record. This can be done after the tax year has ended, before their Final Declaration.
        A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulations using <code>Gov-Test-Scenario</code> headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario)         | Scenario                                                                                           |
        |------------------------------------------|----------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                            | Simulates success response.                                                                        |
        | NOT_FOUND                                | Simulates the scenario where no data is found.                                                     |
        | OUTSIDE_AMENDMENT_WINDOW                 | Simulates the scenario where request cannot be completed as it is outside the amendment window.    |
        | STATEFUL                                 | Performs a stateful update.                                                                        |
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the business income source. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_14
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid. (The minimum tax year in Sandbox is 2024-25.)
          schema: &ref_19
            type: string
            pattern: ^2[0-9]{3}-[0-9]{2}$
            example: 2025-26
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Content-Type
          in: header
          description: |
            Specifies the format of the request body, which must be JSON.
          schema: &ref_22
            type: string
            enum:
              - application/json
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: &ref_23
            type: string
            example: Bearer bb7fed3fe10dd235a2ccda3d50fb
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      tags:
        - Accounting Type
      requestBody:
        content:
          application/json:
            schema:
              $schema: http://json-schema.org/draft-04/schema#
              title: Update Accounting Type
              type: object
              properties:
                accountingType:
                  type: string
                  description: |-
                    The accounting type used.

                    CASH for cash basis (money actually received and paid out to calculate income and expenses).

                    ACCRUAL records revenues and expenses when they are incurred, regardless of when cash is exchanged.
                  enum:
                    - CASH
                    - ACCRUAL
              required:
                - accountingType
              additionalProperties: false
            example:
              accountingType: ACCRUAL
      responses:
        '204':
          description: Success(No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_NOT_ENDED:
                  description: |
                    The submission has been made before the tax year it relates to has ended.
                  value: &ref_26
                    code: RULE_TAX_YEAR_NOT_ENDED
                    message: The specified tax year has not yet ended
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: |
                    The request cannot be completed as you are outside the amendment window.
                  value: &ref_24
                    code: RULE_OUTSIDE_AMENDMENT_WINDOW
                    message: You are outside the amendment window
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: |
                    An empty or non-matching body was submitted.
                  value: *ref_17
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: *ref_18
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported. Either the tax year specified is before the minimum tax year value, or it is after the maximum tax year value.
                  value: &ref_20
                    code: RULE_TAX_YEAR_NOT_SUPPORTED
                    message: The tax year specified does not lie within the supported range
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
  /individuals/business/details/{nino}/{businessId}/{taxYear}/periods-of-account:
    get:
      summary: Retrieve Periods of Account
      security:
        - User-Restricted:
            - read:self-assessment
      description: |
        This API is used to retrieve a customers Periods of Account and Periods of Account dates.
        A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulations using <code>Gov-Test-Scenario</code> headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario) | Scenario                                                   |
        | -------------------------------- | -----------------------------------------------------------|
        | N/A - DEFAULT                    | Simulates success response.                                |
        | NO_PERIODS_OF_ACCOUNT            | Simulate a successful response with no periods of account. |
        | NOT_FOUND                        | Simulates the scenario where no data is found.             |
        | STATEFUL                         | Performs a stateful retrieve.                              |
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the self-employment business. Property business IDs will return a 404. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: &ref_21
            type: string
            pattern: ^X[A-Z0-9]{1}IS[0-9]{11}$
            example: XAIS12345678910
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid. (The minimum tax year in Sandbox is 2024-25.)
          schema: *ref_19
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_8
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      tags:
        - Periods of Account
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: Retrieve Periods of Account Response
                description: Retrieve Periods of Account Response
                type: object
                properties:
                  submittedOn:
                    type: string
                    description: The date and time of the submission. Must conform to the format YYYY-MM-DDThh:mm:ss.SSSZ
                    format: date-time
                    example: '2025-08-24T14:15:22.802Z'
                  periodsOfAccount:
                    type: boolean
                    description: |-
                      Indicates whether the customer has periods of account.

                      If this value is true, then periodsOfAccountDates will be returned.
                    example: true
                  periodsOfAccountDates:
                    type: array
                    description: |-
                      List of periods of account. These will be returned if a customer has submitted periods of account.

                      If periodsOfAccount is set to false, then this field will not be returned.
                    items:
                      type: object
                      properties:
                        startDate:
                          type: string
                          description: The start date of the period of account. Must conform to the format YYYY-MM-DD
                          format: date
                          example: '2025-04-06'
                        endDate:
                          type: string
                          description: The end date of the period of account. Must conform to the format YYYY-MM-DD
                          format: date
                          example: '2025-07-05'
                      required:
                        - startDate
                        - endDate
                      additionalProperties: false
                required:
                  - submittedOn
                  - periodsOfAccount
                additionalProperties: false
              examples:
                Example response when periodsOfAccount is true:
                  value:
                    submittedOn: '2026-04-05T14:15:22.802Z'
                    periodsOfAccount: true
                    periodsOfAccountDates:
                      - startDate: '2025-04-06'
                        endDate: '2025-04-06'
                      - startDate: '2025-04-07'
                        endDate: '2025-04-07'
                      - startDate: '2025-04-08'
                        endDate: '2025-04-08'
                      - startDate: '2025-04-09'
                        endDate: '2025-04-09'
                      - startDate: '2025-04-10'
                        endDate: '2025-04-10'
                      - startDate: '2025-04-11'
                        endDate: '2025-04-11'
                      - startDate: '2025-04-12'
                        endDate: '2025-04-12'
                      - startDate: '2025-04-13'
                        endDate: '2025-04-13'
                      - startDate: '2025-04-14'
                        endDate: '2025-04-14'
                      - startDate: '2025-04-15'
                        endDate: '2025-04-15'
                      - startDate: '2025-04-16'
                        endDate: '2025-04-16'
                      - startDate: '2025-04-17'
                        endDate: '2025-04-17'
                      - startDate: '2025-04-18'
                        endDate: '2025-04-18'
                      - startDate: '2025-04-19'
                        endDate: '2025-04-19'
                      - startDate: '2025-04-20'
                        endDate: '2025-04-20'
                      - startDate: '2025-04-21'
                        endDate: '2025-04-21'
                      - startDate: '2025-04-22'
                        endDate: '2025-04-22'
                      - startDate: '2025-04-23'
                        endDate: '2025-04-23'
                      - startDate: '2025-04-24'
                        endDate: '2025-04-24'
                      - startDate: '2025-04-25'
                        endDate: '2025-04-25'
                      - startDate: '2025-04-26'
                        endDate: '2025-04-26'
                      - startDate: '2025-04-27'
                        endDate: '2025-04-27'
                      - startDate: '2025-04-28'
                        endDate: '2025-04-28'
                      - startDate: '2025-04-29'
                        endDate: '2025-04-29'
                      - startDate: '2025-04-30'
                        endDate: '2025-04-30'
                      - startDate: '2025-05-01'
                        endDate: '2025-05-01'
                      - startDate: '2025-05-02'
                        endDate: '2025-05-02'
                      - startDate: '2025-05-03'
                        endDate: '2025-05-03'
                      - startDate: '2025-05-04'
                        endDate: '2025-05-04'
                      - startDate: '2025-05-05'
                        endDate: '2025-05-05'
                      - startDate: '2025-05-06'
                        endDate: '2025-05-06'
                      - startDate: '2025-05-07'
                        endDate: '2025-05-07'
                      - startDate: '2025-05-08'
                        endDate: '2025-05-08'
                      - startDate: '2025-05-09'
                        endDate: '2025-05-09'
                      - startDate: '2025-05-10'
                        endDate: '2025-05-10'
                      - startDate: '2025-05-11'
                        endDate: '2025-05-11'
                      - startDate: '2025-05-12'
                        endDate: '2025-05-12'
                      - startDate: '2025-05-13'
                        endDate: '2025-05-13'
                      - startDate: '2025-05-14'
                        endDate: '2025-05-14'
                      - startDate: '2025-05-15'
                        endDate: '2025-05-15'
                      - startDate: '2025-05-16'
                        endDate: '2025-05-16'
                      - startDate: '2025-05-17'
                        endDate: '2025-05-17'
                      - startDate: '2025-05-18'
                        endDate: '2025-05-18'
                      - startDate: '2025-05-19'
                        endDate: '2025-05-19'
                      - startDate: '2025-05-20'
                        endDate: '2025-05-20'
                      - startDate: '2025-05-21'
                        endDate: '2025-05-21'
                      - startDate: '2025-05-22'
                        endDate: '2025-05-22'
                      - startDate: '2025-05-23'
                        endDate: '2025-05-23'
                      - startDate: '2025-05-24'
                        endDate: '2025-05-24'
                      - startDate: '2025-05-25'
                        endDate: '2025-05-25'
                      - startDate: '2025-05-26'
                        endDate: '2025-05-26'
                      - startDate: '2025-05-27'
                        endDate: '2025-05-27'
                      - startDate: '2025-05-28'
                        endDate: '2025-05-28'
                      - startDate: '2025-05-29'
                        endDate: '2025-05-29'
                      - startDate: '2025-05-30'
                        endDate: '2025-05-30'
                      - startDate: '2025-05-31'
                        endDate: '2025-05-31'
                      - startDate: '2025-06-01'
                        endDate: '2025-06-01'
                      - startDate: '2025-06-02'
                        endDate: '2025-06-02'
                      - startDate: '2025-06-03'
                        endDate: '2025-06-03'
                      - startDate: '2025-06-04'
                        endDate: '2025-06-04'
                      - startDate: '2025-06-05'
                        endDate: '2025-06-05'
                      - startDate: '2025-06-06'
                        endDate: '2025-06-06'
                      - startDate: '2025-06-07'
                        endDate: '2025-06-07'
                      - startDate: '2025-06-08'
                        endDate: '2025-06-08'
                      - startDate: '2025-06-09'
                        endDate: '2025-06-09'
                      - startDate: '2025-06-10'
                        endDate: '2025-06-10'
                      - startDate: '2025-06-11'
                        endDate: '2025-06-11'
                      - startDate: '2025-06-12'
                        endDate: '2025-06-12'
                      - startDate: '2025-06-13'
                        endDate: '2025-06-13'
                      - startDate: '2025-06-14'
                        endDate: '2025-06-14'
                      - startDate: '2025-06-15'
                        endDate: '2025-06-15'
                      - startDate: '2025-06-16'
                        endDate: '2025-06-16'
                      - startDate: '2025-06-17'
                        endDate: '2025-06-17'
                      - startDate: '2025-06-18'
                        endDate: '2025-06-18'
                      - startDate: '2025-06-19'
                        endDate: '2025-06-19'
                      - startDate: '2025-06-20'
                        endDate: '2025-06-20'
                      - startDate: '2025-06-21'
                        endDate: '2025-06-21'
                      - startDate: '2025-06-22'
                        endDate: '2025-06-22'
                      - startDate: '2025-06-23'
                        endDate: '2025-06-23'
                      - startDate: '2025-06-24'
                        endDate: '2025-06-24'
                      - startDate: '2025-06-25'
                        endDate: '2025-06-25'
                      - startDate: '2025-06-26'
                        endDate: '2025-06-26'
                      - startDate: '2025-06-27'
                        endDate: '2025-06-27'
                      - startDate: '2025-06-28'
                        endDate: '2025-06-28'
                      - startDate: '2025-06-29'
                        endDate: '2025-06-29'
                      - startDate: '2025-06-30'
                        endDate: '2025-06-30'
                      - startDate: '2025-07-01'
                        endDate: '2025-07-01'
                      - startDate: '2025-07-02'
                        endDate: '2025-07-02'
                      - startDate: '2025-07-03'
                        endDate: '2025-07-03'
                      - startDate: '2025-07-04'
                        endDate: '2025-07-04'
                      - startDate: '2025-07-05'
                        endDate: '2025-07-05'
                      - startDate: '2025-07-06'
                        endDate: '2025-07-06'
                      - startDate: '2025-07-07'
                        endDate: '2025-07-07'
                      - startDate: '2025-07-08'
                        endDate: '2025-07-08'
                      - startDate: '2025-07-09'
                        endDate: '2025-07-09'
                      - startDate: '2025-07-10'
                        endDate: '2025-07-10'
                      - startDate: '2025-07-11'
                        endDate: '2025-07-11'
                      - startDate: '2025-07-12'
                        endDate: '2025-07-12'
                      - startDate: '2025-07-13'
                        endDate: '2025-07-13'
                      - startDate: '2025-07-14'
                        endDate: '2025-07-14'
                      - startDate: '2025-07-15'
                        endDate: '2025-07-15'
                      - startDate: '2025-07-16'
                        endDate: '2025-07-16'
                      - startDate: '2025-07-17'
                        endDate: '2025-07-17'
                      - startDate: '2025-07-18'
                        endDate: '2025-07-18'
                      - startDate: '2025-07-19'
                        endDate: '2025-07-19'
                      - startDate: '2025-07-20'
                        endDate: '2025-07-20'
                      - startDate: '2025-07-21'
                        endDate: '2025-07-21'
                      - startDate: '2025-07-22'
                        endDate: '2025-07-22'
                      - startDate: '2025-07-23'
                        endDate: '2025-07-23'
                      - startDate: '2025-07-24'
                        endDate: '2025-07-24'
                      - startDate: '2025-07-25'
                        endDate: '2025-07-25'
                      - startDate: '2025-07-26'
                        endDate: '2025-07-26'
                      - startDate: '2025-07-27'
                        endDate: '2025-07-27'
                      - startDate: '2025-07-28'
                        endDate: '2025-07-28'
                      - startDate: '2025-07-29'
                        endDate: '2025-07-29'
                      - startDate: '2025-07-30'
                        endDate: '2025-07-30'
                      - startDate: '2025-07-31'
                        endDate: '2025-07-31'
                      - startDate: '2025-08-01'
                        endDate: '2025-08-01'
                      - startDate: '2025-08-02'
                        endDate: '2025-08-02'
                      - startDate: '2025-08-03'
                        endDate: '2025-08-03'
                      - startDate: '2025-08-04'
                        endDate: '2025-08-04'
                      - startDate: '2025-08-05'
                        endDate: '2025-08-05'
                      - startDate: '2025-08-06'
                        endDate: '2025-08-06'
                      - startDate: '2025-08-07'
                        endDate: '2025-08-07'
                      - startDate: '2025-08-08'
                        endDate: '2025-08-08'
                      - startDate: '2025-08-09'
                        endDate: '2025-08-09'
                      - startDate: '2025-08-10'
                        endDate: '2025-08-10'
                      - startDate: '2025-08-11'
                        endDate: '2025-08-11'
                      - startDate: '2025-08-12'
                        endDate: '2025-08-12'
                      - startDate: '2025-08-13'
                        endDate: '2025-08-13'
                      - startDate: '2025-08-14'
                        endDate: '2025-08-14'
                      - startDate: '2025-08-15'
                        endDate: '2025-08-15'
                      - startDate: '2025-08-16'
                        endDate: '2025-08-16'
                      - startDate: '2025-08-17'
                        endDate: '2025-08-17'
                      - startDate: '2025-08-18'
                        endDate: '2025-08-18'
                      - startDate: '2025-08-19'
                        endDate: '2025-08-19'
                      - startDate: '2025-08-20'
                        endDate: '2025-08-20'
                      - startDate: '2025-08-21'
                        endDate: '2025-08-21'
                      - startDate: '2025-08-22'
                        endDate: '2025-08-22'
                      - startDate: '2025-08-23'
                        endDate: '2025-08-23'
                      - startDate: '2025-08-24'
                        endDate: '2025-08-24'
                      - startDate: '2025-08-25'
                        endDate: '2025-08-25'
                      - startDate: '2025-08-26'
                        endDate: '2025-08-26'
                      - startDate: '2025-08-27'
                        endDate: '2025-08-27'
                      - startDate: '2025-08-28'
                        endDate: '2025-08-28'
                      - startDate: '2025-08-29'
                        endDate: '2025-08-29'
                      - startDate: '2025-08-30'
                        endDate: '2025-08-30'
                      - startDate: '2025-08-31'
                        endDate: '2025-08-31'
                      - startDate: '2025-09-01'
                        endDate: '2025-09-01'
                      - startDate: '2025-09-02'
                        endDate: '2025-09-02'
                      - startDate: '2025-09-03'
                        endDate: '2025-09-03'
                      - startDate: '2025-09-04'
                        endDate: '2025-09-04'
                      - startDate: '2025-09-05'
                        endDate: '2025-09-05'
                      - startDate: '2025-09-06'
                        endDate: '2025-09-06'
                      - startDate: '2025-09-07'
                        endDate: '2025-09-07'
                      - startDate: '2025-09-08'
                        endDate: '2025-09-08'
                      - startDate: '2025-09-09'
                        endDate: '2025-09-09'
                      - startDate: '2025-09-10'
                        endDate: '2025-09-10'
                      - startDate: '2025-09-11'
                        endDate: '2025-09-11'
                      - startDate: '2025-09-12'
                        endDate: '2025-09-12'
                      - startDate: '2025-09-13'
                        endDate: '2025-09-13'
                      - startDate: '2025-09-14'
                        endDate: '2025-09-14'
                      - startDate: '2025-09-15'
                        endDate: '2025-09-15'
                      - startDate: '2025-09-16'
                        endDate: '2025-09-16'
                      - startDate: '2025-09-17'
                        endDate: '2025-09-17'
                      - startDate: '2025-09-18'
                        endDate: '2025-09-18'
                      - startDate: '2025-09-19'
                        endDate: '2025-09-19'
                      - startDate: '2025-09-20'
                        endDate: '2025-09-20'
                      - startDate: '2025-09-21'
                        endDate: '2025-09-21'
                      - startDate: '2025-09-22'
                        endDate: '2025-09-22'
                      - startDate: '2025-09-23'
                        endDate: '2025-09-23'
                      - startDate: '2025-09-24'
                        endDate: '2025-09-24'
                      - startDate: '2025-09-25'
                        endDate: '2025-09-25'
                      - startDate: '2025-09-26'
                        endDate: '2025-09-26'
                      - startDate: '2025-09-27'
                        endDate: '2025-09-27'
                      - startDate: '2025-09-28'
                        endDate: '2025-09-28'
                      - startDate: '2025-09-29'
                        endDate: '2025-09-29'
                      - startDate: '2025-09-30'
                        endDate: '2025-09-30'
                      - startDate: '2025-10-01'
                        endDate: '2025-10-01'
                      - startDate: '2025-10-02'
                        endDate: '2025-10-02'
                      - startDate: '2025-10-03'
                        endDate: '2025-10-03'
                      - startDate: '2025-10-04'
                        endDate: '2025-10-04'
                      - startDate: '2025-10-05'
                        endDate: '2025-10-05'
                      - startDate: '2025-10-06'
                        endDate: '2025-10-06'
                      - startDate: '2025-10-07'
                        endDate: '2025-10-07'
                      - startDate: '2025-10-08'
                        endDate: '2025-10-08'
                      - startDate: '2025-10-09'
                        endDate: '2025-10-09'
                      - startDate: '2025-10-10'
                        endDate: '2025-10-10'
                      - startDate: '2025-10-11'
                        endDate: '2025-10-11'
                      - startDate: '2025-10-12'
                        endDate: '2025-10-12'
                      - startDate: '2025-10-13'
                        endDate: '2025-10-13'
                      - startDate: '2025-10-14'
                        endDate: '2025-10-14'
                      - startDate: '2025-10-15'
                        endDate: '2025-10-15'
                      - startDate: '2025-10-16'
                        endDate: '2025-10-16'
                      - startDate: '2025-10-17'
                        endDate: '2025-10-17'
                      - startDate: '2025-10-18'
                        endDate: '2025-10-18'
                      - startDate: '2025-10-19'
                        endDate: '2025-10-19'
                      - startDate: '2025-10-20'
                        endDate: '2025-10-20'
                      - startDate: '2025-10-21'
                        endDate: '2025-10-21'
                      - startDate: '2025-10-22'
                        endDate: '2025-10-22'
                      - startDate: '2025-10-23'
                        endDate: '2025-10-23'
                      - startDate: '2025-10-24'
                        endDate: '2025-10-24'
                      - startDate: '2025-10-25'
                        endDate: '2025-10-25'
                      - startDate: '2025-10-26'
                        endDate: '2025-10-26'
                      - startDate: '2025-10-27'
                        endDate: '2025-10-27'
                      - startDate: '2025-10-28'
                        endDate: '2025-10-28'
                      - startDate: '2025-10-29'
                        endDate: '2025-10-29'
                      - startDate: '2025-10-30'
                        endDate: '2025-10-30'
                      - startDate: '2025-10-31'
                        endDate: '2025-10-31'
                      - startDate: '2025-11-01'
                        endDate: '2025-11-01'
                      - startDate: '2025-11-02'
                        endDate: '2025-11-02'
                      - startDate: '2025-11-03'
                        endDate: '2025-11-03'
                      - startDate: '2025-11-04'
                        endDate: '2025-11-04'
                      - startDate: '2025-11-05'
                        endDate: '2025-11-05'
                      - startDate: '2025-11-06'
                        endDate: '2025-11-06'
                      - startDate: '2025-11-07'
                        endDate: '2025-11-07'
                      - startDate: '2025-11-08'
                        endDate: '2025-11-08'
                      - startDate: '2025-11-09'
                        endDate: '2025-11-09'
                      - startDate: '2025-11-10'
                        endDate: '2025-11-10'
                      - startDate: '2025-11-11'
                        endDate: '2025-11-11'
                      - startDate: '2025-11-12'
                        endDate: '2025-11-12'
                      - startDate: '2025-11-13'
                        endDate: '2025-11-13'
                      - startDate: '2025-11-14'
                        endDate: '2025-11-14'
                      - startDate: '2025-11-15'
                        endDate: '2025-11-15'
                      - startDate: '2025-11-16'
                        endDate: '2025-11-16'
                      - startDate: '2025-11-17'
                        endDate: '2025-11-17'
                      - startDate: '2025-11-18'
                        endDate: '2025-11-18'
                      - startDate: '2025-11-19'
                        endDate: '2025-11-19'
                      - startDate: '2025-11-20'
                        endDate: '2025-11-20'
                      - startDate: '2025-11-21'
                        endDate: '2025-11-21'
                      - startDate: '2025-11-22'
                        endDate: '2025-11-22'
                      - startDate: '2025-11-23'
                        endDate: '2025-11-23'
                      - startDate: '2025-11-24'
                        endDate: '2025-11-24'
                      - startDate: '2025-11-25'
                        endDate: '2025-11-25'
                      - startDate: '2025-11-26'
                        endDate: '2025-11-26'
                      - startDate: '2025-11-27'
                        endDate: '2025-11-27'
                      - startDate: '2025-11-28'
                        endDate: '2025-11-28'
                      - startDate: '2025-11-29'
                        endDate: '2025-11-29'
                      - startDate: '2025-11-30'
                        endDate: '2025-11-30'
                      - startDate: '2025-12-01'
                        endDate: '2025-12-01'
                      - startDate: '2025-12-02'
                        endDate: '2025-12-02'
                      - startDate: '2025-12-03'
                        endDate: '2025-12-03'
                      - startDate: '2025-12-04'
                        endDate: '2025-12-04'
                      - startDate: '2025-12-05'
                        endDate: '2025-12-05'
                      - startDate: '2025-12-06'
                        endDate: '2025-12-06'
                      - startDate: '2025-12-07'
                        endDate: '2025-12-07'
                      - startDate: '2025-12-08'
                        endDate: '2025-12-08'
                      - startDate: '2025-12-09'
                        endDate: '2025-12-09'
                      - startDate: '2025-12-10'
                        endDate: '2025-12-10'
                      - startDate: '2025-12-11'
                        endDate: '2025-12-11'
                      - startDate: '2025-12-12'
                        endDate: '2025-12-12'
                      - startDate: '2025-12-13'
                        endDate: '2025-12-13'
                      - startDate: '2025-12-14'
                        endDate: '2025-12-14'
                      - startDate: '2025-12-15'
                        endDate: '2025-12-15'
                      - startDate: '2025-12-16'
                        endDate: '2025-12-16'
                      - startDate: '2025-12-17'
                        endDate: '2025-12-17'
                      - startDate: '2025-12-18'
                        endDate: '2025-12-18'
                      - startDate: '2025-12-19'
                        endDate: '2025-12-19'
                      - startDate: '2025-12-20'
                        endDate: '2025-12-20'
                      - startDate: '2025-12-21'
                        endDate: '2025-12-21'
                      - startDate: '2025-12-22'
                        endDate: '2025-12-22'
                      - startDate: '2025-12-23'
                        endDate: '2025-12-23'
                      - startDate: '2025-12-24'
                        endDate: '2025-12-24'
                      - startDate: '2025-12-25'
                        endDate: '2025-12-25'
                      - startDate: '2025-12-26'
                        endDate: '2025-12-26'
                      - startDate: '2025-12-27'
                        endDate: '2025-12-27'
                      - startDate: '2025-12-28'
                        endDate: '2025-12-28'
                      - startDate: '2025-12-29'
                        endDate: '2025-12-29'
                      - startDate: '2025-12-30'
                        endDate: '2025-12-30'
                      - startDate: '2025-12-31'
                        endDate: '2025-12-31'
                      - startDate: '2026-01-01'
                        endDate: '2026-01-01'
                      - startDate: '2026-01-02'
                        endDate: '2026-01-02'
                      - startDate: '2026-01-03'
                        endDate: '2026-01-03'
                      - startDate: '2026-01-04'
                        endDate: '2026-01-04'
                      - startDate: '2026-01-05'
                        endDate: '2026-01-05'
                      - startDate: '2026-01-06'
                        endDate: '2026-01-06'
                      - startDate: '2026-01-07'
                        endDate: '2026-01-07'
                      - startDate: '2026-01-08'
                        endDate: '2026-01-08'
                      - startDate: '2026-01-09'
                        endDate: '2026-01-09'
                      - startDate: '2026-01-10'
                        endDate: '2026-01-10'
                      - startDate: '2026-01-11'
                        endDate: '2026-01-11'
                      - startDate: '2026-01-12'
                        endDate: '2026-01-12'
                      - startDate: '2026-01-13'
                        endDate: '2026-01-13'
                      - startDate: '2026-01-14'
                        endDate: '2026-01-14'
                      - startDate: '2026-01-15'
                        endDate: '2026-01-15'
                      - startDate: '2026-01-16'
                        endDate: '2026-01-16'
                      - startDate: '2026-01-17'
                        endDate: '2026-01-17'
                      - startDate: '2026-01-18'
                        endDate: '2026-01-18'
                      - startDate: '2026-01-19'
                        endDate: '2026-01-19'
                      - startDate: '2026-01-20'
                        endDate: '2026-01-20'
                      - startDate: '2026-01-21'
                        endDate: '2026-01-21'
                      - startDate: '2026-01-22'
                        endDate: '2026-01-22'
                      - startDate: '2026-01-23'
                        endDate: '2026-01-23'
                      - startDate: '2026-01-24'
                        endDate: '2026-01-24'
                      - startDate: '2026-01-25'
                        endDate: '2026-01-25'
                      - startDate: '2026-01-26'
                        endDate: '2026-01-26'
                      - startDate: '2026-01-27'
                        endDate: '2026-01-27'
                      - startDate: '2026-01-28'
                        endDate: '2026-01-28'
                      - startDate: '2026-01-29'
                        endDate: '2026-01-29'
                      - startDate: '2026-01-30'
                        endDate: '2026-01-30'
                      - startDate: '2026-01-31'
                        endDate: '2026-01-31'
                      - startDate: '2026-02-01'
                        endDate: '2026-02-01'
                      - startDate: '2026-02-02'
                        endDate: '2026-02-02'
                      - startDate: '2026-02-03'
                        endDate: '2026-02-03'
                      - startDate: '2026-02-04'
                        endDate: '2026-02-04'
                      - startDate: '2026-02-05'
                        endDate: '2026-02-05'
                      - startDate: '2026-02-06'
                        endDate: '2026-02-06'
                      - startDate: '2026-02-07'
                        endDate: '2026-02-07'
                      - startDate: '2026-02-08'
                        endDate: '2026-02-08'
                      - startDate: '2026-02-09'
                        endDate: '2026-02-09'
                      - startDate: '2026-02-10'
                        endDate: '2026-02-10'
                      - startDate: '2026-02-11'
                        endDate: '2026-02-11'
                      - startDate: '2026-02-12'
                        endDate: '2026-02-12'
                      - startDate: '2026-02-13'
                        endDate: '2026-02-13'
                      - startDate: '2026-02-14'
                        endDate: '2026-02-14'
                      - startDate: '2026-02-15'
                        endDate: '2026-02-15'
                      - startDate: '2026-02-16'
                        endDate: '2026-02-16'
                      - startDate: '2026-02-17'
                        endDate: '2026-02-17'
                      - startDate: '2026-02-18'
                        endDate: '2026-02-18'
                      - startDate: '2026-02-19'
                        endDate: '2026-02-19'
                      - startDate: '2026-02-20'
                        endDate: '2026-02-20'
                      - startDate: '2026-02-21'
                        endDate: '2026-02-21'
                      - startDate: '2026-02-22'
                        endDate: '2026-02-22'
                      - startDate: '2026-02-23'
                        endDate: '2026-02-23'
                      - startDate: '2026-02-24'
                        endDate: '2026-02-24'
                      - startDate: '2026-02-25'
                        endDate: '2026-02-25'
                      - startDate: '2026-02-26'
                        endDate: '2026-02-26'
                      - startDate: '2026-02-27'
                        endDate: '2026-02-27'
                      - startDate: '2026-02-28'
                        endDate: '2026-02-28'
                      - startDate: '2026-03-01'
                        endDate: '2026-03-01'
                      - startDate: '2026-03-02'
                        endDate: '2026-03-02'
                      - startDate: '2026-03-03'
                        endDate: '2026-03-03'
                      - startDate: '2026-03-04'
                        endDate: '2026-03-04'
                      - startDate: '2026-03-05'
                        endDate: '2026-03-05'
                      - startDate: '2026-03-06'
                        endDate: '2026-03-06'
                      - startDate: '2026-03-07'
                        endDate: '2026-03-07'
                      - startDate: '2026-03-08'
                        endDate: '2026-03-08'
                      - startDate: '2026-03-09'
                        endDate: '2026-03-09'
                      - startDate: '2026-03-10'
                        endDate: '2026-03-10'
                      - startDate: '2026-03-11'
                        endDate: '2026-03-11'
                      - startDate: '2026-03-12'
                        endDate: '2026-03-12'
                      - startDate: '2026-03-13'
                        endDate: '2026-03-13'
                      - startDate: '2026-03-14'
                        endDate: '2026-03-14'
                      - startDate: '2026-03-15'
                        endDate: '2026-03-15'
                      - startDate: '2026-03-16'
                        endDate: '2026-03-16'
                      - startDate: '2026-03-17'
                        endDate: '2026-03-17'
                      - startDate: '2026-03-18'
                        endDate: '2026-03-18'
                      - startDate: '2026-03-19'
                        endDate: '2026-03-19'
                      - startDate: '2026-03-20'
                        endDate: '2026-03-20'
                      - startDate: '2026-03-21'
                        endDate: '2026-03-21'
                      - startDate: '2026-03-22'
                        endDate: '2026-03-22'
                      - startDate: '2026-03-23'
                        endDate: '2026-03-23'
                      - startDate: '2026-03-24'
                        endDate: '2026-03-24'
                      - startDate: '2026-03-25'
                        endDate: '2026-03-25'
                      - startDate: '2026-03-26'
                        endDate: '2026-03-26'
                      - startDate: '2026-03-27'
                        endDate: '2026-03-27'
                      - startDate: '2026-03-28'
                        endDate: '2026-03-28'
                      - startDate: '2026-03-29'
                        endDate: '2026-03-29'
                      - startDate: '2026-03-30'
                        endDate: '2026-03-30'
                      - startDate: '2026-03-31'
                        endDate: '2026-03-31'
                      - startDate: '2026-04-01'
                        endDate: '2026-04-01'
                      - startDate: '2026-04-02'
                        endDate: '2026-04-02'
                      - startDate: '2026-04-03'
                        endDate: '2026-04-03'
                      - startDate: '2026-04-04'
                        endDate: '2026-04-04'
                      - startDate: '2026-04-05'
                        endDate: '2026-04-05'
                Example response when periodsOfAccount is false:
                  value:
                    submittedOn: '2025-08-24T14:15:22.802Z'
                    periodsOfAccount: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: *ref_18
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported. Either the tax year specified is before the minimum tax year value, or it is after the maximum tax year value.
                  value: *ref_20
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
    put:
      summary: Create or Update Periods of Account
      security:
        - User-Restricted:
            - write:self-assessment
      description: |
        This API is used to declare whether a customer has Periods of Account and can submit the Periods of Account dates.
        This has to be submitted before final declaration. A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.    

        | Header Value (Gov-Test-Scenario) | Scenario                                                                                                                  |
        |----------------------------------|---------------------------------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                    | Simulates success response.                                                                                               |
        | CESSATION_DATE                   | Simulates the scenario where the periods of account are being submitted against a business income source that has ceased. |
        | NOT_FOUND                        | Simulates the scenario where no data is found.                                                                            |
        | OUTSIDE_AMENDMENT_WINDOW         | Simulates the scenario where request cannot be completed as it is outside the amendment window.                           |
        | STATEFUL                         | Performs a stateful create or update.                                                                                     |
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the self-employment business. Property business IDs will return a 404. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_21
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid. (The minimum tax year in Sandbox is 2024-25.)
          schema: *ref_19
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Content-Type
          in: header
          description: |
            Specifies the format of the request body, which must be JSON.
          schema: *ref_22
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_23
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      tags:
        - Periods of Account
      requestBody:
        content:
          application/json:
            schema:
              $schema: http://json-schema.org/draft-04/schema#
              title: Create or Update Periods of Account Request
              description: Create or Update Periods of Account Request
              type: object
              properties:
                periodsOfAccount:
                  type: boolean
                  description: |-
                    Indicates whether the customer has periods of account.

                    If this value is true, then periodsOfAccountDates must be submitted.
                  example: true
                periodsOfAccountDates:
                  type: array
                  description: |-
                    List of periods of account. These must be submitted if a customer has periods of account.

                    If periodsOfAccount is set to false, then this field should not be submitted.
                  items:
                    type: object
                    properties:
                      startDate:
                        type: string
                        description: The start date of the period of account. Must conform to the format YYYY-MM-DD
                        format: date
                        example: '2025-04-06'
                      endDate:
                        type: string
                        description: The end date of the period of account. Must conform to the format YYYY-MM-DD
                        format: date
                        example: '2025-07-05'
                    required:
                      - startDate
                      - endDate
                    additionalProperties: false
              required:
                - periodsOfAccount
              additionalProperties: false
            examples:
              Example request when periodsOfAccount is true:
                value:
                  periodsOfAccount: true
                  periodsOfAccountDates:
                    - startDate: '2025-04-06'
                      endDate: '2025-04-06'
                    - startDate: '2025-04-07'
                      endDate: '2025-04-07'
                    - startDate: '2025-04-08'
                      endDate: '2025-04-08'
                    - startDate: '2025-04-09'
                      endDate: '2025-04-09'
                    - startDate: '2025-04-10'
                      endDate: '2025-04-10'
                    - startDate: '2025-04-11'
                      endDate: '2025-04-11'
                    - startDate: '2025-04-12'
                      endDate: '2025-04-12'
                    - startDate: '2025-04-13'
                      endDate: '2025-04-13'
                    - startDate: '2025-04-14'
                      endDate: '2025-04-14'
                    - startDate: '2025-04-15'
                      endDate: '2025-04-15'
                    - startDate: '2025-04-16'
                      endDate: '2025-04-16'
                    - startDate: '2025-04-17'
                      endDate: '2025-04-17'
                    - startDate: '2025-04-18'
                      endDate: '2025-04-18'
                    - startDate: '2025-04-19'
                      endDate: '2025-04-19'
                    - startDate: '2025-04-20'
                      endDate: '2025-04-20'
                    - startDate: '2025-04-21'
                      endDate: '2025-04-21'
                    - startDate: '2025-04-22'
                      endDate: '2025-04-22'
                    - startDate: '2025-04-23'
                      endDate: '2025-04-23'
                    - startDate: '2025-04-24'
                      endDate: '2025-04-24'
                    - startDate: '2025-04-25'
                      endDate: '2025-04-25'
                    - startDate: '2025-04-26'
                      endDate: '2025-04-26'
                    - startDate: '2025-04-27'
                      endDate: '2025-04-27'
                    - startDate: '2025-04-28'
                      endDate: '2025-04-28'
                    - startDate: '2025-04-29'
                      endDate: '2025-04-29'
                    - startDate: '2025-04-30'
                      endDate: '2025-04-30'
                    - startDate: '2025-05-01'
                      endDate: '2025-05-01'
                    - startDate: '2025-05-02'
                      endDate: '2025-05-02'
                    - startDate: '2025-05-03'
                      endDate: '2025-05-03'
                    - startDate: '2025-05-04'
                      endDate: '2025-05-04'
                    - startDate: '2025-05-05'
                      endDate: '2025-05-05'
                    - startDate: '2025-05-06'
                      endDate: '2025-05-06'
                    - startDate: '2025-05-07'
                      endDate: '2025-05-07'
                    - startDate: '2025-05-08'
                      endDate: '2025-05-08'
                    - startDate: '2025-05-09'
                      endDate: '2025-05-09'
                    - startDate: '2025-05-10'
                      endDate: '2025-05-10'
                    - startDate: '2025-05-11'
                      endDate: '2025-05-11'
                    - startDate: '2025-05-12'
                      endDate: '2025-05-12'
                    - startDate: '2025-05-13'
                      endDate: '2025-05-13'
                    - startDate: '2025-05-14'
                      endDate: '2025-05-14'
                    - startDate: '2025-05-15'
                      endDate: '2025-05-15'
                    - startDate: '2025-05-16'
                      endDate: '2025-05-16'
                    - startDate: '2025-05-17'
                      endDate: '2025-05-17'
                    - startDate: '2025-05-18'
                      endDate: '2025-05-18'
                    - startDate: '2025-05-19'
                      endDate: '2025-05-19'
                    - startDate: '2025-05-20'
                      endDate: '2025-05-20'
                    - startDate: '2025-05-21'
                      endDate: '2025-05-21'
                    - startDate: '2025-05-22'
                      endDate: '2025-05-22'
                    - startDate: '2025-05-23'
                      endDate: '2025-05-23'
                    - startDate: '2025-05-24'
                      endDate: '2025-05-24'
                    - startDate: '2025-05-25'
                      endDate: '2025-05-25'
                    - startDate: '2025-05-26'
                      endDate: '2025-05-26'
                    - startDate: '2025-05-27'
                      endDate: '2025-05-27'
                    - startDate: '2025-05-28'
                      endDate: '2025-05-28'
                    - startDate: '2025-05-29'
                      endDate: '2025-05-29'
                    - startDate: '2025-05-30'
                      endDate: '2025-05-30'
                    - startDate: '2025-05-31'
                      endDate: '2025-05-31'
                    - startDate: '2025-06-01'
                      endDate: '2025-06-01'
                    - startDate: '2025-06-02'
                      endDate: '2025-06-02'
                    - startDate: '2025-06-03'
                      endDate: '2025-06-03'
                    - startDate: '2025-06-04'
                      endDate: '2025-06-04'
                    - startDate: '2025-06-05'
                      endDate: '2025-06-05'
                    - startDate: '2025-06-06'
                      endDate: '2025-06-06'
                    - startDate: '2025-06-07'
                      endDate: '2025-06-07'
                    - startDate: '2025-06-08'
                      endDate: '2025-06-08'
                    - startDate: '2025-06-09'
                      endDate: '2025-06-09'
                    - startDate: '2025-06-10'
                      endDate: '2025-06-10'
                    - startDate: '2025-06-11'
                      endDate: '2025-06-11'
                    - startDate: '2025-06-12'
                      endDate: '2025-06-12'
                    - startDate: '2025-06-13'
                      endDate: '2025-06-13'
                    - startDate: '2025-06-14'
                      endDate: '2025-06-14'
                    - startDate: '2025-06-15'
                      endDate: '2025-06-15'
                    - startDate: '2025-06-16'
                      endDate: '2025-06-16'
                    - startDate: '2025-06-17'
                      endDate: '2025-06-17'
                    - startDate: '2025-06-18'
                      endDate: '2025-06-18'
                    - startDate: '2025-06-19'
                      endDate: '2025-06-19'
                    - startDate: '2025-06-20'
                      endDate: '2025-06-20'
                    - startDate: '2025-06-21'
                      endDate: '2025-06-21'
                    - startDate: '2025-06-22'
                      endDate: '2025-06-22'
                    - startDate: '2025-06-23'
                      endDate: '2025-06-23'
                    - startDate: '2025-06-24'
                      endDate: '2025-06-24'
                    - startDate: '2025-06-25'
                      endDate: '2025-06-25'
                    - startDate: '2025-06-26'
                      endDate: '2025-06-26'
                    - startDate: '2025-06-27'
                      endDate: '2025-06-27'
                    - startDate: '2025-06-28'
                      endDate: '2025-06-28'
                    - startDate: '2025-06-29'
                      endDate: '2025-06-29'
                    - startDate: '2025-06-30'
                      endDate: '2025-06-30'
                    - startDate: '2025-07-01'
                      endDate: '2025-07-01'
                    - startDate: '2025-07-02'
                      endDate: '2025-07-02'
                    - startDate: '2025-07-03'
                      endDate: '2025-07-03'
                    - startDate: '2025-07-04'
                      endDate: '2025-07-04'
                    - startDate: '2025-07-05'
                      endDate: '2025-07-05'
                    - startDate: '2025-07-06'
                      endDate: '2025-07-06'
                    - startDate: '2025-07-07'
                      endDate: '2025-07-07'
                    - startDate: '2025-07-08'
                      endDate: '2025-07-08'
                    - startDate: '2025-07-09'
                      endDate: '2025-07-09'
                    - startDate: '2025-07-10'
                      endDate: '2025-07-10'
                    - startDate: '2025-07-11'
                      endDate: '2025-07-11'
                    - startDate: '2025-07-12'
                      endDate: '2025-07-12'
                    - startDate: '2025-07-13'
                      endDate: '2025-07-13'
                    - startDate: '2025-07-14'
                      endDate: '2025-07-14'
                    - startDate: '2025-07-15'
                      endDate: '2025-07-15'
                    - startDate: '2025-07-16'
                      endDate: '2025-07-16'
                    - startDate: '2025-07-17'
                      endDate: '2025-07-17'
                    - startDate: '2025-07-18'
                      endDate: '2025-07-18'
                    - startDate: '2025-07-19'
                      endDate: '2025-07-19'
                    - startDate: '2025-07-20'
                      endDate: '2025-07-20'
                    - startDate: '2025-07-21'
                      endDate: '2025-07-21'
                    - startDate: '2025-07-22'
                      endDate: '2025-07-22'
                    - startDate: '2025-07-23'
                      endDate: '2025-07-23'
                    - startDate: '2025-07-24'
                      endDate: '2025-07-24'
                    - startDate: '2025-07-25'
                      endDate: '2025-07-25'
                    - startDate: '2025-07-26'
                      endDate: '2025-07-26'
                    - startDate: '2025-07-27'
                      endDate: '2025-07-27'
                    - startDate: '2025-07-28'
                      endDate: '2025-07-28'
                    - startDate: '2025-07-29'
                      endDate: '2025-07-29'
                    - startDate: '2025-07-30'
                      endDate: '2025-07-30'
                    - startDate: '2025-07-31'
                      endDate: '2025-07-31'
                    - startDate: '2025-08-01'
                      endDate: '2025-08-01'
                    - startDate: '2025-08-02'
                      endDate: '2025-08-02'
                    - startDate: '2025-08-03'
                      endDate: '2025-08-03'
                    - startDate: '2025-08-04'
                      endDate: '2025-08-04'
                    - startDate: '2025-08-05'
                      endDate: '2025-08-05'
                    - startDate: '2025-08-06'
                      endDate: '2025-08-06'
                    - startDate: '2025-08-07'
                      endDate: '2025-08-07'
                    - startDate: '2025-08-08'
                      endDate: '2025-08-08'
                    - startDate: '2025-08-09'
                      endDate: '2025-08-09'
                    - startDate: '2025-08-10'
                      endDate: '2025-08-10'
                    - startDate: '2025-08-11'
                      endDate: '2025-08-11'
                    - startDate: '2025-08-12'
                      endDate: '2025-08-12'
                    - startDate: '2025-08-13'
                      endDate: '2025-08-13'
                    - startDate: '2025-08-14'
                      endDate: '2025-08-14'
                    - startDate: '2025-08-15'
                      endDate: '2025-08-15'
                    - startDate: '2025-08-16'
                      endDate: '2025-08-16'
                    - startDate: '2025-08-17'
                      endDate: '2025-08-17'
                    - startDate: '2025-08-18'
                      endDate: '2025-08-18'
                    - startDate: '2025-08-19'
                      endDate: '2025-08-19'
                    - startDate: '2025-08-20'
                      endDate: '2025-08-20'
                    - startDate: '2025-08-21'
                      endDate: '2025-08-21'
                    - startDate: '2025-08-22'
                      endDate: '2025-08-22'
                    - startDate: '2025-08-23'
                      endDate: '2025-08-23'
                    - startDate: '2025-08-24'
                      endDate: '2025-08-24'
                    - startDate: '2025-08-25'
                      endDate: '2025-08-25'
                    - startDate: '2025-08-26'
                      endDate: '2025-08-26'
                    - startDate: '2025-08-27'
                      endDate: '2025-08-27'
                    - startDate: '2025-08-28'
                      endDate: '2025-08-28'
                    - startDate: '2025-08-29'
                      endDate: '2025-08-29'
                    - startDate: '2025-08-30'
                      endDate: '2025-08-30'
                    - startDate: '2025-08-31'
                      endDate: '2025-08-31'
                    - startDate: '2025-09-01'
                      endDate: '2025-09-01'
                    - startDate: '2025-09-02'
                      endDate: '2025-09-02'
                    - startDate: '2025-09-03'
                      endDate: '2025-09-03'
                    - startDate: '2025-09-04'
                      endDate: '2025-09-04'
                    - startDate: '2025-09-05'
                      endDate: '2025-09-05'
                    - startDate: '2025-09-06'
                      endDate: '2025-09-06'
                    - startDate: '2025-09-07'
                      endDate: '2025-09-07'
                    - startDate: '2025-09-08'
                      endDate: '2025-09-08'
                    - startDate: '2025-09-09'
                      endDate: '2025-09-09'
                    - startDate: '2025-09-10'
                      endDate: '2025-09-10'
                    - startDate: '2025-09-11'
                      endDate: '2025-09-11'
                    - startDate: '2025-09-12'
                      endDate: '2025-09-12'
                    - startDate: '2025-09-13'
                      endDate: '2025-09-13'
                    - startDate: '2025-09-14'
                      endDate: '2025-09-14'
                    - startDate: '2025-09-15'
                      endDate: '2025-09-15'
                    - startDate: '2025-09-16'
                      endDate: '2025-09-16'
                    - startDate: '2025-09-17'
                      endDate: '2025-09-17'
                    - startDate: '2025-09-18'
                      endDate: '2025-09-18'
                    - startDate: '2025-09-19'
                      endDate: '2025-09-19'
                    - startDate: '2025-09-20'
                      endDate: '2025-09-20'
                    - startDate: '2025-09-21'
                      endDate: '2025-09-21'
                    - startDate: '2025-09-22'
                      endDate: '2025-09-22'
                    - startDate: '2025-09-23'
                      endDate: '2025-09-23'
                    - startDate: '2025-09-24'
                      endDate: '2025-09-24'
                    - startDate: '2025-09-25'
                      endDate: '2025-09-25'
                    - startDate: '2025-09-26'
                      endDate: '2025-09-26'
                    - startDate: '2025-09-27'
                      endDate: '2025-09-27'
                    - startDate: '2025-09-28'
                      endDate: '2025-09-28'
                    - startDate: '2025-09-29'
                      endDate: '2025-09-29'
                    - startDate: '2025-09-30'
                      endDate: '2025-09-30'
                    - startDate: '2025-10-01'
                      endDate: '2025-10-01'
                    - startDate: '2025-10-02'
                      endDate: '2025-10-02'
                    - startDate: '2025-10-03'
                      endDate: '2025-10-03'
                    - startDate: '2025-10-04'
                      endDate: '2025-10-04'
                    - startDate: '2025-10-05'
                      endDate: '2025-10-05'
                    - startDate: '2025-10-06'
                      endDate: '2025-10-06'
                    - startDate: '2025-10-07'
                      endDate: '2025-10-07'
                    - startDate: '2025-10-08'
                      endDate: '2025-10-08'
                    - startDate: '2025-10-09'
                      endDate: '2025-10-09'
                    - startDate: '2025-10-10'
                      endDate: '2025-10-10'
                    - startDate: '2025-10-11'
                      endDate: '2025-10-11'
                    - startDate: '2025-10-12'
                      endDate: '2025-10-12'
                    - startDate: '2025-10-13'
                      endDate: '2025-10-13'
                    - startDate: '2025-10-14'
                      endDate: '2025-10-14'
                    - startDate: '2025-10-15'
                      endDate: '2025-10-15'
                    - startDate: '2025-10-16'
                      endDate: '2025-10-16'
                    - startDate: '2025-10-17'
                      endDate: '2025-10-17'
                    - startDate: '2025-10-18'
                      endDate: '2025-10-18'
                    - startDate: '2025-10-19'
                      endDate: '2025-10-19'
                    - startDate: '2025-10-20'
                      endDate: '2025-10-20'
                    - startDate: '2025-10-21'
                      endDate: '2025-10-21'
                    - startDate: '2025-10-22'
                      endDate: '2025-10-22'
                    - startDate: '2025-10-23'
                      endDate: '2025-10-23'
                    - startDate: '2025-10-24'
                      endDate: '2025-10-24'
                    - startDate: '2025-10-25'
                      endDate: '2025-10-25'
                    - startDate: '2025-10-26'
                      endDate: '2025-10-26'
                    - startDate: '2025-10-27'
                      endDate: '2025-10-27'
                    - startDate: '2025-10-28'
                      endDate: '2025-10-28'
                    - startDate: '2025-10-29'
                      endDate: '2025-10-29'
                    - startDate: '2025-10-30'
                      endDate: '2025-10-30'
                    - startDate: '2025-10-31'
                      endDate: '2025-10-31'
                    - startDate: '2025-11-01'
                      endDate: '2025-11-01'
                    - startDate: '2025-11-02'
                      endDate: '2025-11-02'
                    - startDate: '2025-11-03'
                      endDate: '2025-11-03'
                    - startDate: '2025-11-04'
                      endDate: '2025-11-04'
                    - startDate: '2025-11-05'
                      endDate: '2025-11-05'
                    - startDate: '2025-11-06'
                      endDate: '2025-11-06'
                    - startDate: '2025-11-07'
                      endDate: '2025-11-07'
                    - startDate: '2025-11-08'
                      endDate: '2025-11-08'
                    - startDate: '2025-11-09'
                      endDate: '2025-11-09'
                    - startDate: '2025-11-10'
                      endDate: '2025-11-10'
                    - startDate: '2025-11-11'
                      endDate: '2025-11-11'
                    - startDate: '2025-11-12'
                      endDate: '2025-11-12'
                    - startDate: '2025-11-13'
                      endDate: '2025-11-13'
                    - startDate: '2025-11-14'
                      endDate: '2025-11-14'
                    - startDate: '2025-11-15'
                      endDate: '2025-11-15'
                    - startDate: '2025-11-16'
                      endDate: '2025-11-16'
                    - startDate: '2025-11-17'
                      endDate: '2025-11-17'
                    - startDate: '2025-11-18'
                      endDate: '2025-11-18'
                    - startDate: '2025-11-19'
                      endDate: '2025-11-19'
                    - startDate: '2025-11-20'
                      endDate: '2025-11-20'
                    - startDate: '2025-11-21'
                      endDate: '2025-11-21'
                    - startDate: '2025-11-22'
                      endDate: '2025-11-22'
                    - startDate: '2025-11-23'
                      endDate: '2025-11-23'
                    - startDate: '2025-11-24'
                      endDate: '2025-11-24'
                    - startDate: '2025-11-25'
                      endDate: '2025-11-25'
                    - startDate: '2025-11-26'
                      endDate: '2025-11-26'
                    - startDate: '2025-11-27'
                      endDate: '2025-11-27'
                    - startDate: '2025-11-28'
                      endDate: '2025-11-28'
                    - startDate: '2025-11-29'
                      endDate: '2025-11-29'
                    - startDate: '2025-11-30'
                      endDate: '2025-11-30'
                    - startDate: '2025-12-01'
                      endDate: '2025-12-01'
                    - startDate: '2025-12-02'
                      endDate: '2025-12-02'
                    - startDate: '2025-12-03'
                      endDate: '2025-12-03'
                    - startDate: '2025-12-04'
                      endDate: '2025-12-04'
                    - startDate: '2025-12-05'
                      endDate: '2025-12-05'
                    - startDate: '2025-12-06'
                      endDate: '2025-12-06'
                    - startDate: '2025-12-07'
                      endDate: '2025-12-07'
                    - startDate: '2025-12-08'
                      endDate: '2025-12-08'
                    - startDate: '2025-12-09'
                      endDate: '2025-12-09'
                    - startDate: '2025-12-10'
                      endDate: '2025-12-10'
                    - startDate: '2025-12-11'
                      endDate: '2025-12-11'
                    - startDate: '2025-12-12'
                      endDate: '2025-12-12'
                    - startDate: '2025-12-13'
                      endDate: '2025-12-13'
                    - startDate: '2025-12-14'
                      endDate: '2025-12-14'
                    - startDate: '2025-12-15'
                      endDate: '2025-12-15'
                    - startDate: '2025-12-16'
                      endDate: '2025-12-16'
                    - startDate: '2025-12-17'
                      endDate: '2025-12-17'
                    - startDate: '2025-12-18'
                      endDate: '2025-12-18'
                    - startDate: '2025-12-19'
                      endDate: '2025-12-19'
                    - startDate: '2025-12-20'
                      endDate: '2025-12-20'
                    - startDate: '2025-12-21'
                      endDate: '2025-12-21'
                    - startDate: '2025-12-22'
                      endDate: '2025-12-22'
                    - startDate: '2025-12-23'
                      endDate: '2025-12-23'
                    - startDate: '2025-12-24'
                      endDate: '2025-12-24'
                    - startDate: '2025-12-25'
                      endDate: '2025-12-25'
                    - startDate: '2025-12-26'
                      endDate: '2025-12-26'
                    - startDate: '2025-12-27'
                      endDate: '2025-12-27'
                    - startDate: '2025-12-28'
                      endDate: '2025-12-28'
                    - startDate: '2025-12-29'
                      endDate: '2025-12-29'
                    - startDate: '2025-12-30'
                      endDate: '2025-12-30'
                    - startDate: '2025-12-31'
                      endDate: '2025-12-31'
                    - startDate: '2026-01-01'
                      endDate: '2026-01-01'
                    - startDate: '2026-01-02'
                      endDate: '2026-01-02'
                    - startDate: '2026-01-03'
                      endDate: '2026-01-03'
                    - startDate: '2026-01-04'
                      endDate: '2026-01-04'
                    - startDate: '2026-01-05'
                      endDate: '2026-01-05'
                    - startDate: '2026-01-06'
                      endDate: '2026-01-06'
                    - startDate: '2026-01-07'
                      endDate: '2026-01-07'
                    - startDate: '2026-01-08'
                      endDate: '2026-01-08'
                    - startDate: '2026-01-09'
                      endDate: '2026-01-09'
                    - startDate: '2026-01-10'
                      endDate: '2026-01-10'
                    - startDate: '2026-01-11'
                      endDate: '2026-01-11'
                    - startDate: '2026-01-12'
                      endDate: '2026-01-12'
                    - startDate: '2026-01-13'
                      endDate: '2026-01-13'
                    - startDate: '2026-01-14'
                      endDate: '2026-01-14'
                    - startDate: '2026-01-15'
                      endDate: '2026-01-15'
                    - startDate: '2026-01-16'
                      endDate: '2026-01-16'
                    - startDate: '2026-01-17'
                      endDate: '2026-01-17'
                    - startDate: '2026-01-18'
                      endDate: '2026-01-18'
                    - startDate: '2026-01-19'
                      endDate: '2026-01-19'
                    - startDate: '2026-01-20'
                      endDate: '2026-01-20'
                    - startDate: '2026-01-21'
                      endDate: '2026-01-21'
                    - startDate: '2026-01-22'
                      endDate: '2026-01-22'
                    - startDate: '2026-01-23'
                      endDate: '2026-01-23'
                    - startDate: '2026-01-24'
                      endDate: '2026-01-24'
                    - startDate: '2026-01-25'
                      endDate: '2026-01-25'
                    - startDate: '2026-01-26'
                      endDate: '2026-01-26'
                    - startDate: '2026-01-27'
                      endDate: '2026-01-27'
                    - startDate: '2026-01-28'
                      endDate: '2026-01-28'
                    - startDate: '2026-01-29'
                      endDate: '2026-01-29'
                    - startDate: '2026-01-30'
                      endDate: '2026-01-30'
                    - startDate: '2026-01-31'
                      endDate: '2026-01-31'
                    - startDate: '2026-02-01'
                      endDate: '2026-02-01'
                    - startDate: '2026-02-02'
                      endDate: '2026-02-02'
                    - startDate: '2026-02-03'
                      endDate: '2026-02-03'
                    - startDate: '2026-02-04'
                      endDate: '2026-02-04'
                    - startDate: '2026-02-05'
                      endDate: '2026-02-05'
                    - startDate: '2026-02-06'
                      endDate: '2026-02-06'
                    - startDate: '2026-02-07'
                      endDate: '2026-02-07'
                    - startDate: '2026-02-08'
                      endDate: '2026-02-08'
                    - startDate: '2026-02-09'
                      endDate: '2026-02-09'
                    - startDate: '2026-02-10'
                      endDate: '2026-02-10'
                    - startDate: '2026-02-11'
                      endDate: '2026-02-11'
                    - startDate: '2026-02-12'
                      endDate: '2026-02-12'
                    - startDate: '2026-02-13'
                      endDate: '2026-02-13'
                    - startDate: '2026-02-14'
                      endDate: '2026-02-14'
                    - startDate: '2026-02-15'
                      endDate: '2026-02-15'
                    - startDate: '2026-02-16'
                      endDate: '2026-02-16'
                    - startDate: '2026-02-17'
                      endDate: '2026-02-17'
                    - startDate: '2026-02-18'
                      endDate: '2026-02-18'
                    - startDate: '2026-02-19'
                      endDate: '2026-02-19'
                    - startDate: '2026-02-20'
                      endDate: '2026-02-20'
                    - startDate: '2026-02-21'
                      endDate: '2026-02-21'
                    - startDate: '2026-02-22'
                      endDate: '2026-02-22'
                    - startDate: '2026-02-23'
                      endDate: '2026-02-23'
                    - startDate: '2026-02-24'
                      endDate: '2026-02-24'
                    - startDate: '2026-02-25'
                      endDate: '2026-02-25'
                    - startDate: '2026-02-26'
                      endDate: '2026-02-26'
                    - startDate: '2026-02-27'
                      endDate: '2026-02-27'
                    - startDate: '2026-02-28'
                      endDate: '2026-02-28'
                    - startDate: '2026-03-01'
                      endDate: '2026-03-01'
                    - startDate: '2026-03-02'
                      endDate: '2026-03-02'
                    - startDate: '2026-03-03'
                      endDate: '2026-03-03'
                    - startDate: '2026-03-04'
                      endDate: '2026-03-04'
                    - startDate: '2026-03-05'
                      endDate: '2026-03-05'
                    - startDate: '2026-03-06'
                      endDate: '2026-03-06'
                    - startDate: '2026-03-07'
                      endDate: '2026-03-07'
                    - startDate: '2026-03-08'
                      endDate: '2026-03-08'
                    - startDate: '2026-03-09'
                      endDate: '2026-03-09'
                    - startDate: '2026-03-10'
                      endDate: '2026-03-10'
                    - startDate: '2026-03-11'
                      endDate: '2026-03-11'
                    - startDate: '2026-03-12'
                      endDate: '2026-03-12'
                    - startDate: '2026-03-13'
                      endDate: '2026-03-13'
                    - startDate: '2026-03-14'
                      endDate: '2026-03-14'
                    - startDate: '2026-03-15'
                      endDate: '2026-03-15'
                    - startDate: '2026-03-16'
                      endDate: '2026-03-16'
                    - startDate: '2026-03-17'
                      endDate: '2026-03-17'
                    - startDate: '2026-03-18'
                      endDate: '2026-03-18'
                    - startDate: '2026-03-19'
                      endDate: '2026-03-19'
                    - startDate: '2026-03-20'
                      endDate: '2026-03-20'
                    - startDate: '2026-03-21'
                      endDate: '2026-03-21'
                    - startDate: '2026-03-22'
                      endDate: '2026-03-22'
                    - startDate: '2026-03-23'
                      endDate: '2026-03-23'
                    - startDate: '2026-03-24'
                      endDate: '2026-03-24'
                    - startDate: '2026-03-25'
                      endDate: '2026-03-25'
                    - startDate: '2026-03-26'
                      endDate: '2026-03-26'
                    - startDate: '2026-03-27'
                      endDate: '2026-03-27'
                    - startDate: '2026-03-28'
                      endDate: '2026-03-28'
                    - startDate: '2026-03-29'
                      endDate: '2026-03-29'
                    - startDate: '2026-03-30'
                      endDate: '2026-03-30'
                    - startDate: '2026-03-31'
                      endDate: '2026-03-31'
                    - startDate: '2026-04-01'
                      endDate: '2026-04-01'
                    - startDate: '2026-04-02'
                      endDate: '2026-04-02'
                    - startDate: '2026-04-03'
                      endDate: '2026-04-03'
                    - startDate: '2026-04-04'
                      endDate: '2026-04-04'
                    - startDate: '2026-04-05'
                      endDate: '2026-04-05'
                    - startDate: '2026-04-05'
                      endDate: '2026-04-05'
              Example request when periodsOfAccount is false:
                value:
                  periodsOfAccount: false
      responses:
        '204':
          description: Success(No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: *ref_18
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported. Either the tax year specified is before the minimum tax year value, or it is after the maximum tax year value.
                  value: *ref_20
                FORMAT_START_DATE:
                  description: |
                    The format of the supplied start date field is not valid.
                  value:
                    code: FORMAT_START_DATE
                    message: The start date field format is invalid
                FORMAT_END_DATE:
                  description: |
                    The format of the supplied end date field is not valid.
                  value:
                    code: FORMAT_END_DATE
                    message: The end date field format is invalid
                RULE_PERIODS_OF_ACCOUNT:
                  description: |
                    Periods of account dates must be supplied if periodsOfAccount is set to true.  Dates should not be supplied if periodsOfAccount is set to false.
                  value:
                    code: RULE_PERIODS_OF_ACCOUNT
                    message: Periods of account dates must be supplied if periodsOfAccount is set to true. They should not be supplied of periodsOfAccount is set to false
                RULE_END_DATE_BEFORE_START_DATE:
                  description: |
                    One or more periods of account end date values is before the start date.
                  value:
                    code: RULE_END_DATE_BEFORE_START_DATE
                    message: The supplied values for periods of account endDate must not be earlier than the startDate
                RULE_START_DATE:
                  description: |
                    Periods of account start dates must fall within or before the tax year provided.
                  value:
                    code: RULE_START_DATE
                    message: One or more of the supplied periods of account start dates do not fall within or before the tax year provided
                RULE_END_DATE:
                  description: |
                    Periods of account end dates must fall within the tax year provided.
                  value:
                    code: RULE_END_DATE
                    message: One or more of the supplied periods of account end dates do not fall within the tax year provided
                RULE_PERIODS_OVERLAP:
                  description: |
                    Periods of account start and end dates must not overlap.
                  value:
                    code: RULE_PERIODS_OVERLAP
                    message: One or more of the supplied periods of account start and end dates overlap
                RULE_CESSATION_DATE:
                  description: |
                    Period of account end dates cannot be greater than the income source cessation date.
                  value:
                    code: RULE_CESSATION_DATE
                    message: One or more of the supplied periods of account end dates exceeds the business cessation date
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: |
                    The request cannot be completed as you are outside the amendment window.
                  value: *ref_24
                RULE_INCORRECT_OR_EMPTY_BODY_SUBMITTED:
                  description: |
                    An empty or non-matching body was submitted.
                  value: *ref_17
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
  /individuals/business/details/{nino}/{businessId}/{taxYear}/late-accounting-date-rule-election:
    get:
      summary: Retrieve Late Accounting Date Rule Election
      description: |
        This endpoint allows a customer to retrieve the Late Accounting Date Rule election they have on record for their given tax year. A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario) | Scenario                                       |
        |----------------------------------|------------------------------------------------|
        | N/A - DEFAULT                    | Simulates a success response.                  |
        | NOT_FOUND                        | Simulates the scenario where no data is found. |
        | STATEFUL                         | Performs a stateful retrieve.                  |
      tags:
        - Late Accounting Date Rule
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the self-employment business. Property business IDs will return a 404. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_21
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            No gaps are allowed, for example, 2025-27 is not valid.
          schema: *ref_25
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *read:self-assessment* scope.
          schema: *ref_8
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      security:
        - User-Restricted:
            - read:self-assessment
      responses:
        '200':
          description: Success
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                $schema: http://json-schema.org/draft-04/schema#
                title: Retrieve Late Accounting Date Rule Response
                description: Retrieve Late Accounting Date Rule Response
                type: object
                properties:
                  disapply:
                    type: boolean
                    description: |-
                      Indicates whether the taxpayer is electing to opt out of the automatic application of the Late Accounting Date Rule (LADR). 
                      * true: The taxpayer elects to opt out of LADR. Profits for the period 15 April must be apportioned and reported separately. 
                      * false: The taxpayer accepts the automatic application of LADR. The accounting period is treated as ending on 5 April for the tax year.
                    example: true
                  eligible:
                    type: boolean
                    description: Indicates whether the income source is eligible to disapply the late accounting date rule. Only businesses with an accounting date (Period of Account) that falls between 31 March and 4 April inclusive are eligible.
                    example: true
                  taxYearOfElection:
                    type: string
                    description: Indicates the first year that the disapplication commenced. This field is only returned when disapply is set to true.
                    example: 2025-26
                    format: YYYY-YY
                  taxYearElectionExpires:
                    type: string
                    description: Indicates the last tax year for the disapplication.
                    example: 2025-26
                    format: YYYY-YY
                required:
                  - disapply
                  - eligible
                additionalProperties: false
              example:
                disapply: true
                eligible: true
                taxYearOfElection: 2025-26
                taxYearElectionExpires: 2029-30
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: *ref_18
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
  /individuals/business/details/{nino}/{businessId}/{taxYear}/late-accounting-date-rule-election/disapply:
    post:
      summary: Disapply Late Accounting Date Rule
      description: |
        Allows a customer to submit an election to disapply the automatic Late Accounting Date Rule treatment for a given tax year. A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario) | Scenario                                                                                        |
        |----------------------------------|-------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                    | Simulates a success response.                                                                   |
        | NOT_FOUND                        | Simulates the scenario where no data is found.                                                  |
        | NO_ACCOUNTING_DATE_FOUND         | Simulates the scenario where no accounting date between the 1st and 4th April can be found.     |
        | ELECTION_PERIOD_NOT_EXPIRED      | Simulates the scenario where the existing status has not expired.                               |
        | OUTSIDE_AMENDMENT_WINDOW         | Simulates the scenario where request cannot be completed as it is outside the amendment window. |
        | TYPE_OF_BUSINESS_INCORRECT       | Simulates the scenario where the type of business is incorrect.                                 |
        | STATEFUL                         | Performs a stateful disapplication.                                                             |
      tags:
        - Late Accounting Date Rule
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the self-employment business. Property business IDs will return a 404. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_21
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid. (The minimum tax year in Sandbox is 2024-25.)
          schema: *ref_19
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_23
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      security:
        - User-Restricted:
            - write:self-assessment
      responses:
        '204':
          description: Success(No Content)
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: *ref_18
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported. Either the tax year specified is before the minimum tax year value, or it is after the maximum tax year value.
                  value: *ref_20
                RULE_TAX_YEAR_NOT_ENDED:
                  description: |
                    The submission has been made before the tax year it relates to has ended.
                  value: *ref_26
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: |
                    The request cannot be completed as you are outside the amendment window.
                  value: *ref_24
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
        '422':
          description: Unprocessable Entity
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                RULE_NO_ACCOUNTING_DATE_FOUND:
                  description: |
                    No Accounting Date found between 31 March and 4 April inclusive.
                  value:
                    code: RULE_NO_ACCOUNTING_DATE_FOUND
                    message: Cannot disapply LADR. No Accounting Date found between 31 March and 4 April inclusive
                RULE_ELECTION_PERIOD_NOT_EXPIRED:
                  description: |
                    The existing LADR status has not expired.  Once the year is finalised, the election cannot be changed for 5 years.
                  value: &ref_27
                    code: RULE_ELECTION_PERIOD_NOT_EXPIRED
                    message: Cannot change LADR disapplication. Existing status has not expired
                RULE_TYPE_OF_BUSINESS_INCORRECT:
                  description: |
                    The supplied Business ID does not represent a self-employment business.
                  value:
                    code: RULE_TYPE_OF_BUSINESS_INCORRECT
                    message: The businessId is not for a self-employment business
  /individuals/business/details/{nino}/{businessId}/{taxYear}/late-accounting-date-rule-election/withdraw:
    delete:
      summary: Withdraw Late Accounting Date Rule
      description: |
        Allows a customer to withdraw an election to disapply the automatic Late Accounting Date Rule treatment for a given tax year. This setting cannot be changed after finalisation (except when submitting post finalisation amendments) and will remain in place for 5 years. A National Insurance number, business ID and tax year must be provided.

        ### Test data
        Scenario simulation using Gov-Test-Scenario headers is only available in the sandbox environment.

        | Header Value (Gov-Test-Scenario) | Scenario                                                                                        |
        |----------------------------------|-------------------------------------------------------------------------------------------------|
        | N/A - DEFAULT                    | Simulates a successful response.                                                                |
        | NOT_FOUND                        | Simulates the scenario where no data is found.                                                  |
        | ELECTION_PERIOD_NOT_EXPIRED      | Simulates the scenario where the existing status has not expired.                               |
        | OUTSIDE_AMENDMENT_WINDOW         | Simulates the scenario where request cannot be completed as it is outside the amendment window. |
        | STATEFUL                         | Performs a stateful withdrawal.                                                                 |
      tags:
        - Late Accounting Date Rule
      parameters:
        - name: nino
          in: path
          description: |
            National Insurance number, in the format `AA999999A`
          schema: *ref_6
          required: true
        - name: businessId
          in: path
          description: |
            A unique identifier for the self-employment business. Property business IDs will return a 404. It must conform to the following regex: `^X[A-Z0-9]{1}IS[0-9]{11}$`
          schema: *ref_21
          required: true
        - name: taxYear
          in: path
          description: |
            The tax year the data applies to. The start year and end year must not span two tax years. 
            The minimum tax year is 2025-26. No gaps are allowed, for example, 2025-27 is not valid. (The minimum tax year in Sandbox is 2024-25.)
          schema: *ref_19
          required: true
        - name: Accept
          in: header
          description: |
            Specifies the response format and the version of the API to be used.
          schema: *ref_7
          required: true
        - name: Authorization
          in: header
          description: |
            An OAuth 2.0 Bearer Token with the *write:self-assessment* scope.
          schema: *ref_23
          required: true
        - name: Gov-Test-Scenario
          in: header
          description: |
            Only in sandbox environment. See Test Data table for all header values.
          schema: *ref_9
          required: false
      security:
        - User-Restricted:
            - write:self-assessment
      responses:
        '204':
          description: No Content
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
        '400':
          description: Bad request
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                FORMAT_NINO:
                  description: |
                    The format of the supplied NINO field is not valid.
                  value: *ref_10
                FORMAT_TAX_YEAR:
                  description: |
                    The format of the supplied taxYear value is not valid.
                  value: *ref_16
                FORMAT_BUSINESS_ID:
                  description: |
                    The format of the supplied Business ID field is not valid.
                  value: *ref_15
                RULE_TAX_YEAR_RANGE_INVALID:
                  description: |
                    Tax year range invalid. A tax year range of one year is required.
                  value: *ref_18
                RULE_TAX_YEAR_NOT_SUPPORTED:
                  description: |
                    The specified tax year is not supported. Either the tax year specified is before the minimum tax year value, or it is after the maximum tax year value.
                  value: *ref_20
                RULE_TAX_YEAR_NOT_ENDED:
                  description: |
                    The submission has been made before the tax year it relates to has ended.
                  value: *ref_26
                RULE_OUTSIDE_AMENDMENT_WINDOW:
                  description: |
                    The request cannot be completed as you are outside the amendment window.
                  value: *ref_24
                RULE_INCORRECT_GOV_TEST_SCENARIO:
                  description: |
                    The request did not match any available Sandbox data. Check that the supplied Gov-Test-Scenario is correct for 
                    this endpoint version. This error will only be returned in the Sandbox environment.
                  value: *ref_11
        '403':
          description: Forbidden
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                CLIENT_OR_AGENT_NOT_AUTHORISED:
                  description: |
                    The client and/or agent is not authorised. This is normally because: the client is not subscribed to MTD, the agent is not subscribed to Agent Services, or the client has not authorised the agent to act on their behalf.
                  value: *ref_12
        '404':
          description: Not Found
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                MATCHING_RESOURCE_NOT_FOUND:
                  description: |
                    The supplied income source could not be found.
                  value: *ref_13
        '422':
          description: Unprocessable Entity
          headers:
            X-CorrelationId:
              in: header
              type: string
              description: |
                Unique ID for operation tracking
                String, 36 characters.
              schema: *ref_0
              required: true
            Deprecation:
              name: Deprecation
              in: header
              description: |
                The deprecation date/time for this endpoint.
              schema: *ref_1
              required: false
            Sunset:
              name: Sunset
              in: header
              description: |
                The earliest date/time this endpoint will become unavailable after deprecation.
              schema: *ref_2
              required: false
            Link:
              name: Link
              in: header
              description: |
                See the API documentation:
              schema: *ref_3
              required: false
          content:
            application/json:
              schema:
                description: Error Response
                type: object
                properties: *ref_4
                required: *ref_5
              examples:
                RULE_ELECTION_PERIOD_NOT_EXPIRED:
                  description: |
                    The existing LADR status has not expired.  Once the year is finalised, the election cannot be changed for 5 years.
                  value: *ref_27
components:
  securitySchemes:
    User-Restricted:
      type: oauth2
      description: HMRC supports OAuth 2.0 for authenticating [User-restricted](https://developer.service.hmrc.gov.uk/api-documentation/docs/authorisation/user-restricted-endpoints) API requests
      flows:
        authorizationCode:
          authorizationUrl: https://api.service.hmrc.gov.uk/oauth/authorize
          tokenUrl: https://api.service.hmrc.gov.uk/oauth/token
          refreshUrl: https://api.service.hmrc.gov.uk/oauth/refresh
          scopes:
            write:self-assessment: Grant write access
            read:self-assessment: Grant read access
